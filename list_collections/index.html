<!DOCTYPE html>
<html>
<head>
	<title>Pruba KnowJs</title>
	<script type='text/javascript' src='../static/js/knockout.js'></script>
</head>
<body>
	<div class="container-fluid">
		<h2>Items de Documento</h2>

		<h3>Limite de Items <span data-bind="text:limit"></span></h3>
		<button data-bind="click:addProducto,enable:seats().length<limit">AÃ±adir</button>
		
		<div data-bind="visible:seats().length>0">
			<table>
				<thead><tr>
					<th>Nombre</th>
					<th>Producto</th>
					<th>Precio unitario</th>
					<th>Cant.</th>
					<th>Subtotal</th>
					<th></th>
				</tr></thead>
				<!-- Todo: Generate table body -->
				<tbody data-bind="foreach : seats">
					<tr>
						<td><input data-bind="value:name"/></td>
						<td><select data-bind="options: $root.availableProducto ,value:producto, optionsText:'nombre'"/></td>
						<td data-bind="text: formattedPrice"></td>
						<td><input data-bind="value:cantidad"/></td>
						<td data-bind="text: formattedSubtotal"></td>
						<td><a href="#" data-bind="click:$root.quitarProducto">Remover</td>
					</tr>
				</tbody>
			</table>
		</div>

		<h3>Items:<span data-bind='text:seats().length'></span></h3>
		<h3 data-bind="visible:calcularTotales()>0">
			Total:<span data-bind="text:calcularTotales().toFixed(2)"></span>
		</h3>
		</div>
		<script src="scripts/index.js" type="text/javascript"></script>
	</body>

</html>